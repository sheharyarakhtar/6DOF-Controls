dh = [
    0 .170 0 1.5708;
    0 0 .467 0;
    0 0 -.384 0;
    0 .0525 0 1.5708;
    0 .116 0 -1.5708;
    0 .22656 0 0];
r=SerialLink(dh);
a=-pi:0.0001*pi:pi;
b=-pi/2:0.00005*pi:pi/2;
for n=1:20000
    th1(n)=a(randsrc(1,1,1:20000));
    th2(n)=b(randsrc(1,1,1:20000));
    th3(n)=a(randsrc(1,1,1:20000));
    th4(n)=a(randsrc(1,1,1:20000));
    th5(n)=a(randsrc(1,1,1:20000));
    th6(n)=a(randsrc(1,1,1:20000));
    n=n+1
end

for n=1:20000
    M=r.fkine([th1(n), th2(n), th3(n), th4(n), th5(n), th6(n)]);
    x(n)=M(1,4);
    y(n)=M(2,4);
    z(n)=M(3,4);
    n=n+1
end
x=x';
y=y';
z=z';
r=(x.^2+y.^2+z.^2).^0.5;
T=[r x y z];
T=sortrows(T);
X=T(:,2);
Y=T(:,3);
Z=T(:,4);
% scatter3(X(1:1000),Y(1:1000),Z(1:1000),'.','R')
% hold on
% scatter3(X(1000:2000),Y(1000:2000),Z(1000:2000),'.','Y')
% scatter3(X(2000:3000),Y(2000:3000),Z(2000:3000),'.','G')
% scatter3(X(3000:4000),Y(3000:4000),Z(3000:4000),'.','M')
